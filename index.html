<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZL Market Place - Platform Jual Beli Online Terpercaya</title>
    <meta name="description" content="ZL Market Place adalah platform marketplace terpercaya dengan ribuan produk berkualitas dari seller terbaik. Belanja online aman dan mudah dengan harga terbaik.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #1E40AF 0%, #7C3AED 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50">
    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 rounded-xl overflow-hidden shadow-md">
                        <img src="https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/zl-marketplace-logo.jpeg" alt="ZL Market Place Logo" class="w-full h-full object-cover">
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">ZL Market Place</h1>
                        <p class="text-xs text-gray-500 -mt-1">Marketplace Premium</p>
                    </div>
                </div>

                <div class="hidden md:flex flex-1 max-w-2xl mx-8">
                    <div class="relative w-full">
                        <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        <input type="text" id="searchInput" placeholder="Cari produk, brand, atau kategori..." class="pl-12 pr-4 py-3 w-full border-gray-200 rounded-full bg-gray-100 focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                    </div>
                </div>

                <div class="hidden md:flex items-center space-x-2">
                    <button class="relative p-2 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-heart text-xl"></i>
                        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full" id="wishlistCount">0</span>
                    </button>
                    <button class="relative p-2 hover:bg-gray-100 rounded-lg" id="cartBtn">
                        <i class="fas fa-shopping-cart text-xl"></i>
                        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full" id="cartCount">0</span>
                    </button>
                    <button class="p-2 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-user text-xl"></i>
                    </button>
                </div>

                <div class="md:hidden">
                    <button id="mobileMenuBtn" class="p-2 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu -->
            <div id="mobileMenu" class="md:hidden py-4 border-t hidden">
                <div class="relative mb-4">
                    <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    <input type="text" placeholder="Cari produk..." class="pl-12 pr-4 py-3 w-full rounded-full bg-gray-100">
                </div>
                <div class="flex flex-col space-y-2">
                    <button class="flex items-center justify-start p-3 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-heart w-5 h-5 mr-3"></i> Wishlist
                        <span class="ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full">0</span>
                    </button>
                    <button class="flex items-center justify-start p-3 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-shopping-cart w-5 h-5 mr-3"></i> Keranjang
                        <span class="ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full">0</span>
                    </button>
                    <button class="flex items-center justify-start p-3 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-user w-5 h-5 mr-3"></i> Akun
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="py-24 sm:py-32 relative overflow-hidden">
        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('keys/hero-bg?prompt=modern%20e-commerce%20shopping%20background%20with%20packages%20and%20technology')">
            <div class="absolute inset-0 bg-black opacity-60"></div>
        </div>
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center text-white">
                <div class="mb-8">
                    <div class="w-24 h-24 mx-auto mb-4 rounded-2xl overflow-hidden shadow-2xl">
                        <img src="https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/zl-marketplace-logo.jpeg" alt="ZL Market Place Logo" class="w-full h-full object-cover">
                    </div>
                    <h2 class="text-2xl font-bold text-yellow-300 mb-2">ZL Market Place</h2>
                </div>
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold tracking-tight">
                    Temukan Produk <span class="text-yellow-300">Premium</span>
                    <span class="block">Untuk Gaya Hidup Anda</span>
                </h1>
                <p class="mt-6 max-w-2xl mx-auto text-lg md:text-xl text-gray-200">
                    Marketplace terakurasi dengan jutaan produk berkualitas dari brand dan seller terbaik. Belanja online aman, mudah, dan penuh gaya.
                </p>
                <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center">
                    <button id="startShoppingBtn" class="bg-white text-gray-900 hover:bg-gray-100 shadow-lg transform hover:scale-105 transition-transform px-8 py-3 rounded-lg font-semibold">
                        Mulai Belanja Sekarang <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                    <button id="becomeSellerBtn" class="border-2 border-white text-white hover:bg-white hover:text-gray-900 shadow-lg transform hover:scale-105 transition-transform px-8 py-3 rounded-lg font-semibold">
                        Daftar Sebagai Seller
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Filter -->
    <section class="bg-white/60 backdrop-blur-md py-6 border-b sticky top-20 z-40">
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
                <div class="flex flex-wrap gap-2" id="categoryFilter">
                    <button class="category-btn active px-4 py-2 rounded-lg border transition-all bg-gray-900 text-white" data-category="all">
                        Semua Kategori <span class="ml-2 bg-gray-700 text-white text-xs px-2 py-1 rounded-full">1250</span>
                    </button>
                    <button class="category-btn px-4 py-2 rounded-lg border transition-all bg-white hover:bg-gray-50" data-category="electronics">
                        Elektronik <span class="ml-2 bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full">320</span>
                    </button>
                    <button class="category-btn px-4 py-2 rounded-lg border transition-all bg-white hover:bg-gray-50" data-category="fashion">
                        Fashion <span class="ml-2 bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full">450</span>
                    </button>
                    <button class="category-btn px-4 py-2 rounded-lg border transition-all bg-white hover:bg-gray-50" data-category="home">
                        Rumah & Taman <span class="ml-2 bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full">280</span>
                    </button>
                    <button class="category-btn px-4 py-2 rounded-lg border transition-all bg-white hover:bg-gray-50" data-category="sports">
                        Olahraga <span class="ml-2 bg-gray-200 text-gray-700 text-xs px-2 py-1 rounded-full">200</span>
                    </button>
                </div>

                <div class="flex items-center gap-4 self-end lg:self-center">
                    <button class="flex items-center gap-2 bg-white px-4 py-2 rounded-lg border">
                        <i class="fas fa-filter"></i>
                        Filter
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    
                    <div class="flex items-center border rounded-lg bg-white">
                        <button id="gridView" class="grid-list-btn active p-2 rounded-l-lg">
                            <i class="fas fa-th-large"></i>
                        </button>
                        <button id="listView" class="grid-list-btn p-2 rounded-r-lg">
                            <i class="fas fa-list"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Flash Sale Section -->
    <section class="py-16 relative overflow-hidden">
        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('keys/flash-sale-bg?prompt=shopping%20flash%20sale%20background%20with%20lightning%20and%20discounts')">
            <div class="absolute inset-0 bg-white opacity-90"></div>
        </div>
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="flex flex-col md:flex-row items-center justify-between mb-8 gap-4">
                <div class="flex items-center gap-4">
                    <i class="fas fa-bolt text-yellow-500 text-3xl"></i>
                    <h2 class="text-3xl font-bold text-gray-900">Flash Sale</h2>
                </div>
                <div class="flex items-center gap-3">
                    <span class="text-gray-600 font-medium">Berakhir dalam:</span>
                    <div class="flex items-center gap-2" id="countdown">
                        <div class="flex flex-col items-center">
                            <span id="hours" class="text-2xl font-bold text-gray-900 bg-gray-100 rounded-lg px-3 py-2">05</span>
                            <span class="text-xs text-gray-500 mt-1">Jam</span>
                        </div>
                        <span class="text-2xl font-bold text-gray-400">:</span>
                        <div class="flex flex-col items-center">
                            <span id="minutes" class="text-2xl font-bold text-gray-900 bg-gray-100 rounded-lg px-3 py-2">30</span>
                            <span class="text-xs text-gray-500 mt-1">Menit</span>
                        </div>
                        <span class="text-2xl font-bold text-gray-400">:</span>
                        <div class="flex flex-col items-center">
                            <span id="seconds" class="text-2xl font-bold text-gray-900 bg-gray-100 rounded-lg px-3 py-2">45</span>
                            <span class="text-xs text-gray-500 mt-1">Detik</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6" id="flashSaleProducts">
                <!-- Flash sale products will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Product Grid -->
    <section id="productsSection" class="py-16 relative overflow-hidden">
        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('keys/products-bg?prompt=clean%20modern%20shopping%20background%20with%20products%20display')">
            <div class="absolute inset-0 bg-white opacity-90"></div>
        </div>
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">
                    Produk Pilihan Untuk Anda
                </h2>
                <p class="text-gray-600 mb-8">
                    Jelajahi koleksi produk terbaik yang kami pilihkan khusus untuk Anda.
                </p>
            </div>

            <div id="productGrid" class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-24 relative overflow-hidden">
        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('keys/features-bg?prompt=modern%20technology%20and%20shopping%20features%20background')">
            <div class="absolute inset-0 bg-white opacity-90"></div>
        </div>
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">
                    Mengapa Memilih ZL Market?
                </h2>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                    Kami berkomitmen memberikan pengalaman belanja online terbaik dengan layanan yang bisa Anda handalkan.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center p-8 rounded-xl border bg-gray-50/50">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full bg-white shadow-md mb-6 mx-auto">
                        <i class="fas fa-shield-alt text-blue-600 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">
                        Produk Terjamin
                    </h3>
                    <p class="text-gray-600">
                        Ribuan produk original dari seller terpercaya dengan jaminan kualitas terbaik.
                    </p>
                </div>

                <div class="text-center p-8 rounded-xl border bg-gray-50/50">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full bg-white shadow-md mb-6 mx-auto">
                        <i class="fas fa-truck text-green-600 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">
                        Pengiriman Cepat & Aman
                    </h3>
                    <p class="text-gray-600">
                        Sistem logistik terintegrasi untuk pengiriman cepat dan aman ke seluruh Indonesia.
                    </p>
                </div>

                <div class="text-center p-8 rounded-xl border bg-gray-50/50">
                    <div class="flex items-center justify-center h-16 w-16 rounded-full bg-white shadow-md mb-6 mx-auto">
                        <i class="fas fa-credit-card text-purple-600 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">
                        Pembayaran Terlindungi
                    </h3>
                    <p class="text-gray-600">
                        Berbagai metode pembayaran aman dengan perlindungi transaksi 100%.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white relative overflow-hidden">
        <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('keys/footer-bg?prompt=dark%20elegant%20footer%20background%20with%20shopping%20elements')">
            <div class="absolute inset-0 bg-black opacity-80"></div>
        </div>
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="md:col-span-2 lg:col-span-1">
                    <div class="flex items-center space-x-3 mb-4">
                        <img src="https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/zl-marketplace-logo.jpeg" alt="ZL Market Place Logo" class="w-10 h-10 rounded-xl object-cover">
                        <span class="text-2xl font-bold">ZL Market Place</span>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Platform marketplace premium untuk semua kebutuhan belanja online Anda.
                    </p>
                </div>

                <div>
                    <span class="text-lg font-semibold mb-4 block text-gray-200">Kategori Populer</span>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">Elektronik</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Fashion</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Rumah & Taman</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Olahraga</a></li>
                    </ul>
                </div>

                <div>
                    <span class="text-lg font-semibold mb-4 block text-gray-200">Layanan Pelanggan</span>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">Pusat Bantuan</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Kebijakan Privasi</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Syarat & Ketentuan</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Hubungi Kami</a></li>
                    </ul>
                </div>

                <div>
                    <span class="text-lg font-semibold mb-4 block text-gray-200">Ikuti Kami</span>
                    <div class="flex space-x-4">
                        <a href="#" target="_blank" class="text-gray-400 hover:text-white hover:bg-gray-700 p-2 rounded-lg transition-colors">
                            <i class="fab fa-facebook text-xl"></i>
                        </a>
                        <a href="#" target="_blank" class="text-gray-400 hover:text-white hover:bg-gray-700 p-2 rounded-lg transition-colors">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                        <a href="#" target="_blank" class="text-gray-400 hover:text-white hover:bg-gray-700 p-2 rounded-lg transition-colors">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-500">
                <p>&copy; 2024 ZL Market Place. Semua hak dilindungi.</p>
            </div>
        </div>
    </footer>

    <!-- Shopping Cart Modal -->
    <div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg w-full max-w-md">
                <div class="flex items-center justify-between p-6 border-b">
                    <h3 class="text-lg font-semibold">Keranjang Belanja</h3>
                    <button id="closeCartModal" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div id="cartItems" class="p-6 max-h-96 overflow-y-auto">
                    <div class="text-center py-8 text-gray-500">
                        <i class="fas fa-shopping-cart text-4xl mb-4"></i>
                        <p>Keranjang Anda kosong</p>
                    </div>
                </div>
                <div class="border-t p-6">
                    <div class="flex justify-between items-center mb-4">
                        <span class="font-semibold">Total:</span>
                        <span id="cartTotal" class="font-bold text-xl">Rp 0</span>
                    </div>
                    <button class="w-full bg-gray-900 text-white py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors">
                        Checkout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">


        // Sample products data
        const products = [
            {
                id: 1,
                name: 'iPhone 15 Pro Max 256GB - Garansi Resmi',
                price: 'Rp 18.999.000',
                originalPrice: 'Rp 21.999.000',
                rating: 4.8,
                reviews: 1250,
                image: 'https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/Iphone.png',
                category: 'electronics',
                discount: 14,
                seller: 'Apple Store',
                location: 'Jakarta Pusat'
            },
            {
                id: 2,
                name: 'MacBook Air M3 13-inch 8GB/256GB',
                price: 'Rp 16.999.000',
                originalPrice: 'Rp 18.999.000',
                rating: 4.9,
                reviews: 890,
                image: 'https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/Macbook.png',
                category: 'electronics',
                discount: 11,
                seller: 'iBox Official',
                location: 'Jakarta Selatan'
            },
            {
                id: 3,
                name: 'Nike Air Jordan 1 Retro High OG',
                price: 'Rp 2.499.000',
                originalPrice: 'Rp 2.999.000',
                rating: 4.7,
                reviews: 2341,
                image: 'https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/NikeAir-jordan.png',
                category: 'fashion',
                discount: 17,
                seller: 'Nike Official',
                location: 'Bandung'
            },
            {
                id: 4,
                name: 'Samsung Galaxy S24 Ultra 512GB',
                price: 'Rp 19.999.000',
                originalPrice: 'Rp 22.999.000',
                rating: 4.8,
                reviews: 1876,
                image: 'https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/samsung-HP.png',
                category: 'electronics',
                discount: 13,
                seller: 'Samsung Store',
                location: 'Jakarta'
            },
            {
                id: 5,
                name: 'Sony WH-1000XM5 Headphones',
                price: 'Rp 4.999.000',
                originalPrice: 'Rp 5.999.000',
                rating: 4.9,
                reviews: 987,
                image: 'https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/Sony-wh1000xm51.png',
                category: 'electronics',
                discount: 17,
                seller: 'Sony Official',
                location: 'Surabaya'
            },
            {
                id: 6,
                name: 'Adidas Ultraboost 22 Running Shoes',
                price: 'Rp 2.799.000',
                originalPrice: 'Rp 3.299.000',
                rating: 4.6,
                reviews: 1456,
                image: 'https://raw.githubusercontent.com/kongali1720/kongali1720.github.io/main/adidas.png',
                category: 'sports',
                discount: 15,
                seller: 'Adidas Store',
                location: 'Medan'
            }
        ];

        // Initialize state variables
        let cartState = JSON.parse(localStorage.getItem('zl-market-cart') || '[]');
        let wishlistState = JSON.parse(localStorage.getItem('zl-market-wishlist') || '[]');
        let isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        
        // Cart functions
        const addToCartHook = (product) => {
            const existingItem = cartState.find(item => item.id === product.id);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cartState.push({ ...product, quantity: 1 });
            }
            localStorage.setItem('zl-market-cart', JSON.stringify(cartState));
        };
        
        const removeFromCart = (productId) => {
            cartState = cartState.filter(item => item.id !== productId);
            localStorage.setItem('zl-market-cart', JSON.stringify(cartState));
        };
        
        const updateQuantity = (productId, quantity) => {
            if (quantity <= 0) {
                removeFromCart(productId);
                return;
            }
            const item = cartState.find(item => item.id === productId);
            if (item) {
                item.quantity = quantity;
                localStorage.setItem('zl-market-cart', JSON.stringify(cartState));
            }
        };
        
        // Wishlist functions
        const toggleWishlistHook = (product) => {
            const existingItem = wishlistState.find(item => item.id === product.id);
            if (existingItem) {
                wishlistState = wishlistState.filter(item => item.id !== product.id);
            } else {
                wishlistState.push(product);
            }
            localStorage.setItem('zl-market-wishlist', JSON.stringify(wishlistState));
        };
        
        // Getter functions
        const cart = () => cartState;
        const wishlist = () => wishlistState;
        
        let currentCategory = 'all';
        let searchQuery = '';



        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            loadFlashSaleProducts();
            startCountdown();
            setupEventListeners();
            
            // Initialize cart and wishlist counts
            updateCartCount();
            updateWishlistCount();
        });

        function setupEventListeners() {
            // Mobile menu toggle
            document.getElementById('mobileMenuBtn').addEventListener('click', function() {
                const mobileMenu = document.getElementById('mobileMenu');
                mobileMenu.classList.toggle('hidden');
            });

            // Search functionality
            document.getElementById('searchInput').addEventListener('input', function(e) {
                searchQuery = e.target.value.toLowerCase();
                loadProducts();
            });

            // Category filter
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active', 'bg-gray-900', 'text-white'));
                    this.classList.add('active', 'bg-gray-900', 'text-white');
                    currentCategory = this.dataset.category;
                    loadProducts();
                });
            });

            // Cart modal
            document.getElementById('cartBtn').addEventListener('click', openCartModal);
            document.getElementById('closeCartModal').addEventListener('click', closeCartModal);

            // View mode toggle
            document.getElementById('gridView').addEventListener('click', function() {
                document.querySelectorAll('.grid-list-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('productGrid').className = 'grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4';
            });

            document.getElementById('listView').addEventListener('click', function() {
                document.querySelectorAll('.grid-list-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                document.getElementById('productGrid').className = 'grid gap-6 grid-cols-1';
            });
        }

        function loadProducts() {
            const filteredProducts = products.filter(product => {
                const matchesCategory = currentCategory === 'all' || product.category === currentCategory;
                const matchesSearch = searchQuery === '' || product.name.toLowerCase().includes(searchQuery);
                return matchesCategory && matchesSearch;
            });

            const productGrid = document.getElementById('productGrid');
            productGrid.innerHTML = '';

            if (filteredProducts.length === 0) {
                productGrid.innerHTML = `
                    <div class="col-span-full text-center py-16">
                        <div class="text-gray-400 mb-4">
                            <i class="fas fa-search text-6xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-2">Produk tidak ditemukan</h3>
                        <p class="text-gray-600">Coba ubah kata kunci pencarian atau kategori yang dipilih.</p>
                    </div>
                `;
                return;
            }

            filteredProducts.forEach(product => {
                const productCard = createProductCard(product);
                productGrid.appendChild(productCard);
            });
        }

        function loadFlashSaleProducts() {
            const flashSaleProducts = products.filter(product => product.discount > 15).slice(0, 4);
            const flashSaleContainer = document.getElementById('flashSaleProducts');
            
            flashSaleProducts.forEach(product => {
                const productCard = createProductCard(product);
                flashSaleContainer.appendChild(productCard);
            });
        }

        function createProductCard(product) {
            const isInWishlist = wishlistState.some(item => item.id === product.id);
            
            const card = document.createElement('div');
            card.className = 'bg-white/95 backdrop-blur-sm rounded-lg overflow-hidden shadow-lg card-hover';
            card.innerHTML = `
                <div class="relative">
                    <img src="${product.image}" alt="${product.name}" class="w-full h-56 object-cover">
                    <div class="absolute inset-0 bg-black/5 opacity-0 hover:opacity-100 transition-opacity"></div>
                    ${product.discount > 0 ? `<span class="absolute top-3 left-3 bg-red-500 text-white text-xs px-2 py-1 rounded">-${product.discount}%</span>` : ''}
                    <button class="absolute top-3 right-3 bg-white/80 hover:bg-white rounded-full p-2 wishlist-btn" data-product='${JSON.stringify(product)}'>
                        <i class="fas fa-heart ${isInWishlist ? 'text-red-500' : 'text-gray-500'}"></i>
                    </button>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-gray-900 mb-2 line-clamp-2 h-12">${product.name}</h3>
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center">
                            <i class="fas fa-star text-yellow-400"></i>
                            <span class="text-sm text-gray-600 ml-1">${product.rating} (${product.reviews})</span>
                        </div>
                        <div class="text-sm text-gray-500">
                            <span class="font-medium">${product.seller}</span>
                        </div>
                    </div>
                    <div class="mb-4">
                        <div class="flex items-baseline gap-2">
                            <span class="text-2xl font-bold text-gray-900">${product.price}</span>
                            ${product.originalPrice ? `<span class="text-sm text-gray-500 line-through">${product.originalPrice}</span>` : ''}
                        </div>
                    </div>
                    <button class="w-full bg-gray-900 text-white py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors add-to-cart-btn" data-product='${JSON.stringify(product)}'>
                        <i class="fas fa-shopping-cart mr-2"></i>
                        Tambah Keranjang
                    </button>
                </div>
            `;

            // Add event listeners
            card.querySelector('.add-to-cart-btn').addEventListener('click', function() {
                addToCart(product);
            });

            card.querySelector('.wishlist-btn').addEventListener('click', function() {
                toggleWishlist(product);
                this.querySelector('i').classList.toggle('text-red-500');
                this.querySelector('i').classList.toggle('text-gray-500');
            });

            return card;
        }

        function addToCart(product) {
            addToCartHook(product);
            updateCartCount();
            showToast(`${product.name} ditambahkan ke keranjang`);
        }

        function toggleWishlist(product) {
            toggleWishlistHook(product);
            updateWishlistCount();
        }

        function updateCartCount() {
            const count = cartState.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
            const mobileCartCount = document.getElementById('mobileCartCount');
            if (mobileCartCount) {
                mobileCartCount.textContent = count;
            }
        }

        function updateWishlistCount() {
            const count = wishlistState.length;
            document.getElementById('wishlistCount').textContent = count;
            const mobileWishlistCount = document.getElementById('mobileWishlistCount');
            if (mobileWishlistCount) {
                mobileWishlistCount.textContent = count;
            }
        }

        function openCartModal() {
            document.getElementById('cartModal').classList.remove('hidden');
            loadCartItems();
        }

        function closeCartModal() {
            document.getElementById('cartModal').classList.add('hidden');
        }

        function loadCartItems() {
            const cartItemsContainer = document.getElementById('cartItems');
            
            if (cartState.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        <i class="fas fa-shopping-cart text-4xl mb-4"></i>
                        <p>Keranjang Anda kosong</p>
                    </div>
                `;
                document.getElementById('cartTotal').textContent = 'Rp 0';
                return;
            }

            let total = 0;
            cartItemsContainer.innerHTML = '';

            cartState.forEach(item => {
                const price = parseFloat(item.price.replace(/[^0-9]/g, ''));
                const itemTotal = price * item.quantity;
                total += itemTotal;

                const cartItem = document.createElement('div');
                cartItem.className = 'flex items-center gap-4 py-4 border-b';
                cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded">
                    <div class="flex-1">
                        <h4 class="font-medium line-clamp-2">${item.name}</h4>
                        <p class="text-gray-600">${item.price}</p>
                        <div class="flex items-center gap-2 mt-2">
                            <button class="decrease-qty bg-gray-200 rounded px-2 py-1" data-id="${item.id}">-</button>
                            <span class="mx-2">${item.quantity}</span>
                            <button class="increase-qty bg-gray-200 rounded px-2 py-1" data-id="${item.id}">+</button>
                        </div>
                    </div>
                    <button class="remove-item text-red-500 hover:text-red-700" data-id="${item.id}">
                        <i class="fas fa-trash"></i>
                    </button>
                `;

                // Add event listeners
                cartItem.querySelector('.increase-qty').addEventListener('click', function() {
                    updateQuantity(item.id, item.quantity + 1);
                    updateCartCount();
                    loadCartItems();
                });

                cartItem.querySelector('.decrease-qty').addEventListener('click', function() {
                    updateQuantity(item.id, item.quantity - 1);
                    updateCartCount();
                    loadCartItems();
                });

                cartItem.querySelector('.remove-item').addEventListener('click', function() {
                    removeFromCart(item.id);
                    updateCartCount();
                    loadCartItems();
                });

                cartItemsContainer.appendChild(cartItem);
            });

            document.getElementById('cartTotal').textContent = `Rp ${total.toLocaleString('id-ID')}`;
        }

        function showToast(message) {
            // Simple toast notification
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        function startCountdown() {
            const targetDate = new Date();
            targetDate.setHours(targetDate.getHours() + 5);

            function updateCountdownDisplay() {
                const now = new Date().getTime();
                const distance = targetDate.getTime() - now;

                if (distance < 0) {
                    document.getElementById('countdown').innerHTML = '<span class="text-red-500 font-semibold">Flash Sale Telah Berakhir!</span>';
                    return;
                }

                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
                document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            }

            updateCountdownDisplay();
            setInterval(updateCountdownDisplay, 1000);
        }
        
        // Show seller registration modal
        function showSellerRegistrationModal() {
            console.log('showSellerRegistrationModal called! isLoggedIn:', isLoggedIn, 'currentUser:', currentUser);
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold">Daftar Sebagai Seller</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="text-center mb-6">
                        <div class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-store text-white text-2xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Mulai Jualan di ZL Market Place</h3>
                        <p class="text-gray-600 text-sm">Bergabunglah dengan ribuan seller sukses dan raih penghasilan lebih!</p>
                    </div>
                    
                    <div class="space-y-4 mb-6">
                        <div class="flex items-start space-x-3">
                            <i class="fas fa-check-circle text-green-500 mt-1"></i>
                            <div>
                                <h4 class="font-semibold text-sm">Komisi Rendah</h4>
                                <p class="text-gray-600 text-xs">Hanya 2.5% per transaksi</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <i class="fas fa-check-circle text-green-500 mt-1"></i>
                            <div>
                                <h4 class="font-semibold text-sm">Dashboard Lengkap</h4>
                                <p class="text-gray-600 text-xs">Kelola toko dan analisis penjualan</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <i class="fas fa-check-circle text-green-500 mt-1"></i>
                            <div>
                                <h4 class="font-semibold text-sm">Support 24/7</h4>
                                <p class="text-gray-600 text-xs">Tim support siap membantu kapan saja</p>
                            </div>
                        </div>
                    </div>
                    
                    ${isLoggedIn ? `
                        <form onsubmit="handleSellerRegistration(event)">
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Nama Toko</label>
                                    <input type="text" name="storeName" required class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Masukkan nama toko Anda">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Kategori Utama</label>
                                    <select name="category" required class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                        <option value="">Pilih kategori</option>
                                        <option value="electronics">Elektronik</option>
                                        <option value="fashion">Fashion</option>
                                        <option value="home">Rumah & Taman</option>
                                        <option value="sports">Olahraga</option>
                                        <option value="books">Buku</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Nomor WhatsApp</label>
                                    <input type="tel" name="whatsapp" required class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="08xxxxxxxxxx">
                                </div>
                                <button type="submit" class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition-colors">
                                    <i class="fas fa-store mr-2"></i>
                                    Daftar Sekarang
                                </button>
                            </div>
                        </form>
                    ` : `
                        <div class="text-center">
                            <p class="text-gray-600 mb-4">Silakan login terlebih dahulu untuk mendaftar sebagai seller</p>
                            <button onclick="this.closest('.fixed').remove(); showLoginForm();" class="w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-colors">
                                <i class="fas fa-sign-in-alt mr-2"></i>
                                Login Dulu
                            </button>
                        </div>
                    `}
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        function handleSellerRegistration(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const storeName = formData.get('storeName');
            const category = formData.get('category');
            const whatsapp = formData.get('whatsapp');
            
            // Simulate seller registration
            const sellerData = {
                storeName: storeName,
                category: category,
                whatsapp: whatsapp,
                registeredAt: new Date().toISOString(),
                status: 'pending'
            };
            
            localStorage.setItem('sellerData', JSON.stringify(sellerData));
            
            document.querySelector('.fixed').remove();
            showToast('Pendaftaran seller berhasil! Tim kami akan menghubungi Anda dalam 1x24 jam.');
        }
        
        // Scroll to products section
        function scrollToProducts() {
            const productsSection = document.getElementById('productsSection');
            if (productsSection) {
                productsSection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            } else {
                // Fallback - scroll to a reasonable position
                window.scrollTo({ 
                    top: 600, 
                    behavior: 'smooth' 
                });
            }
            showToast('Selamat berbelanja di ZL Market Place! üõçÔ∏è');
        }
        
        // Show profile modal
        function showProfileModal() {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4 transform transition-all">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold">Profil Pengguna</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    ${isLoggedIn ? `
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-user text-white text-2xl"></i>
                            </div>
                            <h3 class="text-lg font-semibold">${currentUser?.name || 'User'}</h3>
                            <p class="text-gray-500">${currentUser?.email || 'user@example.com'}</p>
                        </div>
                        
                        <div class="space-y-3 mb-6">
                            <button class="w-full flex items-center justify-start p-3 hover:bg-gray-100 rounded-lg">
                                <i class="fas fa-shopping-bag w-5 h-5 mr-3 text-blue-500"></i>
                                <span>Pesanan Saya</span>
                            </button>
                            <button onclick="this.closest('.fixed').remove(); showWishlistModal();" class="w-full flex items-center justify-start p-3 hover:bg-gray-100 rounded-lg">
                                <i class="fas fa-heart w-5 h-5 mr-3 text-red-500"></i>
                                <span>Wishlist (${wishlistState.length})</span>
                            </button>
                            <button class="w-full flex items-center justify-start p-3 hover:bg-gray-100 rounded-lg">
                                <i class="fas fa-cog w-5 h-5 mr-3 text-gray-500"></i>
                                <span>Pengaturan</span>
                            </button>
                        </div>
                        
                        <button onclick="logout()" class="w-full bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 transition-colors">
                            <i class="fas fa-sign-out-alt mr-2"></i>
                            Logout
                        </button>
                    ` : `
                        <div class="text-center mb-6">
                            <div class="w-20 h-20 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-user text-gray-600 text-2xl"></i>
                            </div>
                            <p class="text-gray-600 mb-4">Silakan login untuk mengakses fitur lengkap</p>
                        </div>
                        
                        <div class="space-y-3">
                            <button onclick="showLoginForm()" class="w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-colors">
                                <i class="fas fa-sign-in-alt mr-2"></i>
                                Login
                            </button>
                            <button onclick="showRegisterForm()" class="w-full border border-blue-500 text-blue-500 py-3 rounded-lg hover:bg-blue-50 transition-colors">
                                <i class="fas fa-user-plus mr-2"></i>
                                Daftar
                            </button>
                        </div>
                    `}
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        // Show wishlist modal
        function showWishlistModal() {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            
            const wishlistItems = products.filter(product => wishlistState.includes(product.id));
            
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold">Wishlist Saya</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    ${wishlistItems.length === 0 ? `
                        <div class="text-center py-12">
                            <i class="fas fa-heart text-gray-300 text-6xl mb-4"></i>
                            <p class="text-gray-500 text-lg">Wishlist kosong</p>
                            <p class="text-gray-400">Tambahkan produk favorit Anda</p>
                        </div>
                    ` : `
                        <div class="space-y-4">
                            ${wishlistItems.map(product => `
                                <div class="flex items-center space-x-4 p-4 border rounded-lg">
                                    <img src="${product.image}" alt="${product.name}" class="w-16 h-16 object-cover rounded">
                                    <div class="flex-1">
                                        <h3 class="font-semibold">${product.name}</h3>
                                        <p class="text-blue-600 font-bold">Rp ${product.price.toLocaleString()}</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button onclick="addToCartHook(${JSON.stringify(product).replace(/"/g, '&quot;')}); showToast('Produk ditambahkan ke keranjang!');" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
                                            <i class="fas fa-cart-plus"></i>
                                        </button>
                                        <button onclick="toggleWishlistHook(${product.id}); this.closest('.fixed').remove(); showToast('Produk dihapus dari wishlist!');" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `}
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        // Login functions
        function showLoginForm() {
            const existingModal = document.querySelector('.fixed');
            if (existingModal) existingModal.remove();
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold">Login</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <form onsubmit="handleLogin(event)">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Email</label>
                                <input type="email" name="email" required class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Email Anda">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Password</label>
                                <input type="password" name="password" required class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Password Anda">
                            </div>
                            <button type="submit" class="w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-colors">
                                Login
                            </button>
                        </div>
                    </form>
                    
                    <p class="text-center mt-4 text-gray-600">
                        Belum punya akun? 
                        <button onclick="showRegisterForm()" class="text-blue-500 hover:underline">Daftar disini</button>
                    </p>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        function showRegisterForm() {
            const existingModal = document.querySelector('.fixed');
            if (existingModal) existingModal.remove();
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold">Daftar Akun</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-500 hover:text-gray-700">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <form onsubmit="handleRegister(event)">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Nama Lengkap</label>
                                <input type="text" name="name" required class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nama Lengkap">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Email</label>
                                <input type="email" name="email" required class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Email Anda">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Password</label>
                                <input type="password" name="password" required class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Password">
                            </div>
                            <button type="submit" class="w-full bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 transition-colors">
                                Daftar
                            </button>
                        </div>
                    </form>
                    
                    <p class="text-center mt-4 text-gray-600">
                        Sudah punya akun? 
                        <button onclick="showLoginForm()" class="text-blue-500 hover:underline">Login disini</button>
                    </p>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        function handleLogin(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const email = formData.get('email');
            const password = formData.get('password');
            
            // Simulate login (in real app, this would be API call)
            currentUser = {
                id: 1,
                name: email.split('@')[0],
                email: email
            };
            
            isLoggedIn = true;
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            document.querySelector('.fixed').remove();
            showToast('Login berhasil!');
        }
        
        function handleRegister(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const name = formData.get('name');
            const email = formData.get('email');
            
            // Simulate registration (in real app, this would be API call)
            currentUser = {
                id: Date.now(),
                name: name,
                email: email
            };
            
            isLoggedIn = true;
            localStorage.setItem('isLoggedIn', 'true');
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            document.querySelector('.fixed').remove();
            showToast('Akun berhasil dibuat dan Anda sudah login!');
        }
        
        function logout() {
            isLoggedIn = false;
            currentUser = null;
            localStorage.removeItem('isLoggedIn');
            localStorage.removeItem('currentUser');
            
            document.querySelector('.fixed').remove();
            showToast('Logout berhasil!');
        }

        // Initialize all interactive features
        document.addEventListener('DOMContentLoaded', function() {
            // Hero buttons
            const startShoppingBtn = document.getElementById('startShoppingBtn');
            const becomeSellerBtn = document.getElementById('becomeSellerBtn');
            
            startShoppingBtn?.addEventListener('click', () => {
                scrollToProducts();
            });
            
            becomeSellerBtn?.addEventListener('click', () => {
                console.log('Seller button clicked! isLoggedIn:', isLoggedIn);
                showSellerRegistrationModal();
            });
            
            // Desktop buttons
            const cartBtn = document.getElementById('cartBtn');
            const wishlistBtn = document.getElementById('wishlistBtn');
            const profileBtn = document.getElementById('profileBtn');
            
            cartBtn?.addEventListener('click', () => {
                showCartModal();
            });
            
            wishlistBtn?.addEventListener('click', () => {
                showWishlistModal();
            });
            
            profileBtn?.addEventListener('click', () => {
                showProfileModal();
            });
            
            // Mobile buttons
            const mobileCartBtn = document.getElementById('mobileCartBtn');
            const mobileWishlistBtn = document.getElementById('mobileWishlistBtn');
            const mobileProfileBtn = document.getElementById('mobileProfileBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            
            mobileCartBtn?.addEventListener('click', () => {
                showCartModal();
                mobileMenu.classList.add('hidden');
            });
            
            mobileWishlistBtn?.addEventListener('click', () => {
                showWishlistModal();
                mobileMenu.classList.add('hidden');
            });
            
            mobileProfileBtn?.addEventListener('click', () => {
                showProfileModal();
                mobileMenu.classList.add('hidden');
            });
        });
        
        // Additional styling for active states
        const style = document.createElement('style');
        style.textContent = `
            .category-btn.active {
                background-color: #1f2937;
                color: white;
            }
            .grid-list-btn.active {
                background-color: #f3f4f6;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
